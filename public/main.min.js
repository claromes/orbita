/*! orbita-manual 08-12-2023 */
function upVote(o,n){const a=new XMLHttpRequest;a.open("POST",orbitaApi.restURL+"orbitaApi/v1/likes",!0),a.setRequestHeader("Content-type","application/x-www-form-urlencoded"),a.setRequestHeader("X-WP-Nonce",orbitaApi.restNonce),a.send("post_id="+o),a.onreadystatechange=function(){if(4===a.readyState&&200===a.status){var e=a.responseText,e=JSON.parse(e);if(e.success){const t=document.querySelector("[data-votes-post-id='"+o+"']");t.innerHTML=e.count,n.classList.add("orbita-vote-already-voted"),n.classList.remove("orbita-vote-can-vote")}}}}document.addEventListener("DOMContentLoaded",function(){const e=document.querySelector(".orbita-post-title-textarea"),t=(e&&e.addEventListener("keyup",e=>{var t=e.target.offsetWidth/10;e.target.rows=Math.round(e.target.value.length/t)+1}),document.querySelectorAll(".orbita-vote-can-vote"));t.forEach(function(t){t.addEventListener("click",function(e){return upVote(t.dataset.postId,t),e.preventDefault(),!1})})},!1);