/*! orbita-manual 05-07-2024 */
function upVote(o,s){const n=new XMLHttpRequest;n.open("POST",orbitaApi.restURL+"orbitaApi/v1/likes",!0),n.setRequestHeader("Content-type","application/x-www-form-urlencoded"),n.setRequestHeader("X-WP-Nonce",orbitaApi.restNonce),n.send("post_id="+o),n.onreadystatechange=function(){if(4===n.readyState&&200===n.status){var t=n.responseText,t=JSON.parse(t);if(t.success){const e=document.querySelector("[data-votes-post-id='"+o+"']");e.innerHTML=t.count,s.classList.add("orbita-vote-already-voted"),s.classList.remove("orbita-vote-can-vote")}}}}function verifyPostAttachFilesize(){const t=document.getElementById("orbita_post_attach");0<t.files.length&&10<t.files[0].size/1048576&&(t.value="",alert("O arquivo Ã© maior que 10 MB"))}document.addEventListener("DOMContentLoaded",function(){const t=document.querySelector(".orbita-post-title-textarea"),e=(t&&t.addEventListener("keyup",t=>{var e=t.target.offsetWidth/10;t.target.rows=Math.round(t.target.value.length/e)+1}),document.querySelectorAll(".orbita-vote-can-vote"));e.forEach(function(e){e.addEventListener("click",function(t){return upVote(e.dataset.postId,e),t.preventDefault(),!1})}),toggleAttachUrl(postUrlInput),toggleAttachUrl(postAttachInput)},!1);let postUrlInput=document.getElementById("orbita_post_url"),postAttachInput=document.getElementById("orbita_post_attach");const postUrlDiv=document.getElementById("orbita-form-post_url"),postAttachDiv=document.getElementById("orbita-form-post_attach");function toggleAttachUrl(){verifyPostAttachFilesize(),""!==postUrlInput.value&&(postAttachDiv.style.display="none",postUrlDiv.style.display="flex",postUrlDiv.style.flexDirection="column"),""!==postAttachInput.value&&(postUrlDiv.style.display="none",postAttachDiv.style.display="block"),""==postAttachInput.value&&""==postUrlInput.value&&(postUrlDiv.style.display="flex",postUrlDiv.style.flexDirection="column",postAttachDiv.style.display="block")}postUrlInput&&postAttachInput&&(postUrlInput.addEventListener("input",toggleAttachUrl),postAttachInput.addEventListener("input",toggleAttachUrl));